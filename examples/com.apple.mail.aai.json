{
  "schema_version": "1.0",
  "app": {
    "id": "com.apple.mail",
    "name": "Mail",
    "description": "Apple's native email client for sending and managing messages",
    "version": "1.0.0"
  },
  "execution": {
    "type": "ipc"
  },
  "tools": [
    {
      "name": "send_email",
      "description": "Send an email to one or more recipients",
      "parameters": {
        "type": "object",
        "properties": {
          "to": {
            "type": "array",
            "items": { "type": "string", "format": "email" },
            "description": "Recipient email addresses"
          },
          "cc": {
            "type": "array",
            "items": { "type": "string", "format": "email" },
            "description": "CC recipients"
          },
          "bcc": {
            "type": "array",
            "items": { "type": "string", "format": "email" },
            "description": "BCC recipients"
          },
          "subject": {
            "type": "string",
            "description": "Email subject line"
          },
          "body": {
            "type": "string",
            "description": "Email body content (plain text)"
          }
        },
        "required": ["to", "body"]
      },
      "returns": {
        "type": "object",
        "properties": {
          "message_id": { "type": "string" },
          "status": { "type": "string" }
        }
      }
    },
    {
      "name": "list_messages",
      "description": "List messages in a mailbox",
      "parameters": {
        "type": "object",
        "properties": {
          "mailbox": {
            "type": "string",
            "enum": ["inbox", "sent", "drafts", "trash", "archive"],
            "default": "inbox",
            "description": "Mailbox to list"
          },
          "limit": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "default": 20
          },
          "unread_only": {
            "type": "boolean",
            "default": false
          }
        }
      },
      "returns": {
        "type": "object",
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "from": { "type": "string" },
                "subject": { "type": "string" },
                "preview": { "type": "string" },
                "date": { "type": "string" },
                "unread": { "type": "boolean" }
              }
            }
          }
        }
      }
    },
    {
      "name": "search_messages",
      "description": "Search for messages matching query",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query"
          },
          "limit": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "default": 10
          }
        },
        "required": ["query"]
      }
    }
  ]
}